# 7章 パターンで土台を作る

担当: @dameleon

## まとめ

_アークテクチャパターンのカタログから最良のアーキテクチャの選択、調整を行う_

### アーキテクチャパターン

- 先人が問題解決を行うために積み上げてきた解決策を示したもの
- コミュニケーションの土台としても利用可能
- デザインパターン != アーキテクチャパターン？
    - デザインパターン < アーキテクチャパターン
    - デザインパターン: プログラミングコードの構造化パターン
    - アーキテクチャパターン: 品質特性に対する解決策パターン


### レイヤー

- 疎結合性, 凝縮性の向上
- メリ
    - 保守容易性
    - 問題解決範囲の最小化
- デメ
    - 抽象化層の複雑性

### ポートとアダプタ

- ビジネスロジックの分離とアダプタによるプラガブルな構造実現
- = ヘキサゴナルアーキテクチャ
- メリ
    - 保守容易性
    - 環境移行に対する容易性
- デメ
    - アダプタの品質に左右される

### パイプとフィルタ

- データソースからフィルタを連結して出力まで繋げるパイプライン構造
- バッチシーケンシャル
    - 並列ではなく直列で各システムの処理が進む
- メリ
    - パフォーマンス
    - 再利用性
- デメ
    - パフォーマンス
    - UI表現が困難
    - エラー表現の困難

### サービス指向アーキテクチャ

- 現代的にいえばマイクロサービシーズ
    - 古代: SOAP
- メリ
    - 相互運用性
    - 再利用性
    - スケーラビリティ
- デメ
    - 分散計算の複雑さ
    - 可用性, 信頼性, パフォーマンスの担保が困難
    
### パブリッシュ・サブスクライブ

- イベントバスを通じた、発行, 購読型のアーキテクチャ
- メリ
    - 拡張性
    - 再利用性
    - テスト容易性
- デメ
    - パフォーマンス担保の困難
    - イベントバスの選択の設計が困難

### 共有データ

- 複数コンポーネントによるデータストアの共通化
- メリ
    - データ一貫性
    - 可用性
- デメ
    - 単一障害点

### 多層

- 論理グループを、クラウドプラットフォームなどの物理コンポーネントに割当て表現をする
- != レイヤーパターン
    - レイヤーパターンはモジュール構造
    - 多層パターンは割当構造
- メリ
    - セキュリティ
    - パフォーマンス
- デメ
    - 複雑
    - 層の強制が難しい

### コンピタンスセンター

- チーム構造ごとアーキテクチャ化し、責務を分離する
- メリ
    - 専門性
- デメ
    - 人への依存度が高い

### オープンソース型の貢献

- プロジェクト内でお互いのコンポーネントに対してオープンソース的にコミットをする
- メリ
    - 保守性
    - 開発スピード
    - 顧客に必要なもの
- デメ
    - コンポーネントの分割粒度に強く依存する


### 巨大な泥団子

- 短期的な開発スピードを求めた結果、一貫性などを失った状態
- 技術的負債を戦略的に受け入れることができるのであれば選択する


### 新しいパターンを発見する

- 経験から生まれた新しいパターンの検証をする
- 問題重視のアプローチ
    - 共通問題の定義
    - 現状の解決策と、更なるパターン化での解決できるもの
- 解決策中心のアプローチ
    - 繰り返し行われる解決策のパターン化
    - 本質的な問題の定義をする

## 分かってないこと

- 特にないです

## ディスカッション

- 特にないです
